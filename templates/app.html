{% extends "base.html" %}
{% load static i18n %}

{% block content %}
<div class="ux-app" x-data="app()" x-init="init()">
    {% block app_content %}{% endblock %}
</div>
{% endblock %}

{% block scripts %}
<script>
    function app() {
        return {
            isDark: window.matchMedia('(prefers-color-scheme: dark)').matches,

            init() {
                // Listen for system theme changes
                window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', (e) => {
                    this.isDark = e.matches;
                    document.documentElement.classList.toggle('ux-dark', this.isDark);
                });
            },

            toggleTheme() {
                this.isDark = !this.isDark;
                document.documentElement.classList.toggle('ux-dark', this.isDark);
            }
        }
    }
</script>
{% block app_scripts %}{% endblock %}
{% endblock %}
