{% load i18n djicons %}
{#
    Tab Bar Component with OOB Swap for HTMX

    Used in content partials to update the tabbar during HTMX navigation.

    Receives:
        - tabs: List of tab dicts with url, icon, label, view, disabled, badge, badge_color
        - current_view: Current view identifier to highlight active tab
#}
<footer id="dashboard-tabbar" class="ux-footer" hx-swap-oob="outerHTML">
    <div class="ux-tab-bar ux-tab-bar--bottom">
        {% for tab in tabs %}
        <button
            class="ux-tab-button{% if current_view == tab.view %} ux-tab-button--selected{% endif %}"
            {% if not tab.disabled %}
            hx-get="{{ tab.url }}"
            hx-target="#main-content-area"
            hx-push-url="true"
            {% endif %}
            {% if tab.disabled %}disabled{% endif %}>
            {% icon tab.icon %}
            <span class="ux-tab-button__label">{% if tab.label_trans %}{% trans tab.label_trans %}{% else %}{{ tab.label }}{% endif %}</span>
            {% if tab.badge %}
            <span class="ux-badge ux-badge--{{ tab.badge_color|default:'danger' }}">{{ tab.badge }}</span>
            {% endif %}
        </button>
        {% endfor %}
    </div>
</footer>
