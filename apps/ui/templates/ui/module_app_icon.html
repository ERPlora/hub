{# Module App Icon - iOS-style icon for the home grid #}
{# Usage: {% ui_module_app_icon module_id="inventory" label="Inventory" icon="cube-outline" url="/modules/inventory/" color="primary" %} #}
{% load djicons %}
<div class="module-app-icon{% if css_class %} {{ css_class }}{% endif %}"
     {% if url %}
     hx-get="{{ url }}"
     hx-target="#main-content-area"
     hx-push-url="true"
     {% endif %}
     {% if module_id %}data-module-id="{{ module_id }}"{% endif %}
     @click="trackRecent && trackRecent('{{ module_id }}')">
    <div class="module-app-icon__image module-app-icon__image--{{ color|default:'primary' }}">
        {% if icon_svg %}
        {{ icon_svg|safe }}
        {% else %}
        {% icon icon|default:"cube-outline" %}
        {% endif %}
    </div>
    <span class="module-app-icon__label">{{ label }}</span>
    {% if badge %}
    <span class="ux-badge module-app-icon__badge ux-color-{{ badge_color|default:'danger' }}">{{ badge }}</span>
    {% endif %}
    {% if is_favorite %}
    {% icon "star" css_class="module-app-icon__favorite" %}
    {% endif %}
</div>
