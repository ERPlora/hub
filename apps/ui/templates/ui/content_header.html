{# Content Header - styled as secondary header inside ion-content #}
{# Note: Uses div instead of ion-header because it's placed inside ion-content #}
<div class="content-header">
    <ion-toolbar>
        {% if back_url or back_hx_get %}
        <ion-buttons slot="start">
            <ion-back-button
                default-href="/"
                text=""
                {% if back_url %}href="{{ back_url }}"{% endif %}
                {% if back_hx_get %}hx-get="{{ back_hx_get }}"{% endif %}
                {% if back_hx_target %}hx-target="{{ back_hx_target }}"{% endif %}
                {% if back_hx_push_url %}hx-push-url="{{ back_hx_push_url }}"{% endif %}
                @click.prevent
            ></ion-back-button>
        </ion-buttons>
        {% endif %}
        <ion-title>{{ title }}</ion-title>
        {% if action_icon or action_label %}
        <ion-buttons slot="end">
            <ion-button
                {% if action_color %}color="{{ action_color }}"{% endif %}
                {% if action_href %}href="{{ action_href }}"{% endif %}
                {% if action_hx_get %}hx-get="{{ action_hx_get }}"{% endif %}
                {% if action_hx_post %}hx-post="{{ action_hx_post }}"{% endif %}
                {% if action_hx_target %}hx-target="{{ action_hx_target }}"{% endif %}
                {% if action_hx_push_url %}hx-push-url="{{ action_hx_push_url }}"{% endif %}
                {% if action_x_click %}@click="{{ action_x_click }}"{% endif %}
                {% if action_badge %}style="position: relative;"{% endif %}
            >
                {% if action_icon and action_label %}
                <ion-icon slot="start" name="{{ action_icon }}"></ion-icon>
                {{ action_label }}
                {% elif action_icon %}
                <ion-icon slot="icon-only" name="{{ action_icon }}"></ion-icon>
                {% else %}
                {{ action_label }}
                {% endif %}
                {% if action_badge %}
                <ion-badge color="{{ action_badge_color }}" style="position: absolute; top: -4px; right: -4px; font-size: 10px; min-width: 16px; height: 16px; border-radius: 50%; display: flex; align-items: center; justify-content: center;">{{ action_badge }}</ion-badge>
                {% endif %}
            </ion-button>
        </ion-buttons>
        {% endif %}
    </ion-toolbar>
</div>
