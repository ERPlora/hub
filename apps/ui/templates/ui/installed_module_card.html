{% load i18n djicons %}
<ion-card class="ui-installed-module-card{% if css_class %} {{ css_class }}{% endif %}">
    <ion-card-header>
        <div class="d-flex align-center gap-md">
            {% if icon %}
            {% icon icon css_class="text-primary fs-xl" %}
            {% else %}
            {% icon "extension-puzzle-outline" css_class="text-primary fs-xl" %}
            {% endif %}
            <div class="flex-1" style="min-width: 0;">
                <ion-card-title class="text-truncate">{{ name }}</ion-card-title>
                {% if version %}
                <ion-card-subtitle>v{{ version }}</ion-card-subtitle>
                {% endif %}
            </div>
            <ion-chip color="{% if is_active %}success{% else %}medium{% endif %}">
                {% if is_active %}{% trans "Active" %}{% else %}{% trans "Inactive" %}{% endif %}
            </ion-chip>
        </div>
    </ion-card-header>
    <ion-card-content>
        {% if description %}
        <p class="fs-sm text-medium mb-md">{{ description }}</p>
        {% endif %}
        {% if author %}
        <p class="fs-sm text-medium m-0">{% trans "By" %} {{ author }}</p>
        {% endif %}
    </ion-card-content>
    <div class="module-card-actions">
        {% if is_active %}
        <ion-button
            fill="clear"
            size="small"
            color="warning"
            class="flex-1"
            {% if deactivate_alpine %}@click="{{ deactivate_alpine }}"{% endif %}
            {% if deactivate_hx_post %}hx-post="{{ deactivate_hx_post }}" hx-target="{{ deactivate_hx_target|default:'#main-content-area' }}" hx-swap="innerHTML"{% endif %}
        >
            {% icon "pause-outline" slot="start" %}
            {% trans "Deactivate" %}
        </ion-button>
        {% else %}
        <ion-button
            fill="clear"
            size="small"
            color="success"
            class="flex-1"
            {% if activate_hx_post %}hx-post="{{ activate_hx_post }}" hx-target="{{ activate_hx_target|default:'#main-content-area' }}" hx-swap="innerHTML"{% endif %}
        >
            {% icon "play-outline" slot="start" %}
            {% trans "Activate" %}
        </ion-button>
        {% endif %}
        <ion-button
            fill="clear"
            size="small"
            color="danger"
            class="flex-1"
            {% if delete_alpine %}@click="{{ delete_alpine }}"{% endif %}
        >
            {% icon "trash-outline" slot="start" %}
            {% trans "Delete" %}
        </ion-button>
    </div>
</ion-card>
