{% load i18n djicons %}
<div class="ux-card ui-installed-module-card{% if css_class %} {{ css_class }}{% endif %}">
    <div class="ux-card__header">
        <div class="d-flex align-center gap-md">
            {% if icon %}
            {% icon icon css_class="text-primary fs-xl" %}
            {% else %}
            {% icon "extension-puzzle-outline" css_class="text-primary fs-xl" %}
            {% endif %}
            <div class="flex-1" style="min-width: 0;">
                <h3 class="ux-card__title text-truncate">{{ name }}</h3>
                {% if version %}
                <p class="ux-card__subtitle">v{{ version }}</p>
                {% endif %}
            </div>
            <span class="ux-chip ux-color-{% if is_active %}success{% else %}medium{% endif %}">
                {% if is_active %}{% trans "Active" %}{% else %}{% trans "Inactive" %}{% endif %}
            </span>
        </div>
    </div>
    <div class="ux-card__body">
        {% if description %}
        <p class="fs-sm text-medium mb-md">{{ description }}</p>
        {% endif %}
        {% if author %}
        <p class="fs-sm text-medium m-0">{% trans "By" %} {{ author }}</p>
        {% endif %}
    </div>
    <div class="module-card-actions">
        {% if is_active %}
        <button
            class="ux-button ux-button--clear ux-button--small ux-color-warning flex-1"
            {% if deactivate_alpine %}@click="{{ deactivate_alpine }}"{% endif %}
            {% if deactivate_hx_post %}hx-post="{{ deactivate_hx_post }}" hx-target="{{ deactivate_hx_target|default:'#main-content-area' }}" hx-swap="innerHTML"{% endif %}
        >
            {% icon "pause-outline" %}
            {% trans "Deactivate" %}
        </button>
        {% else %}
        <button
            class="ux-button ux-button--clear ux-button--small ux-color-success flex-1"
            {% if activate_hx_post %}hx-post="{{ activate_hx_post }}" hx-target="{{ activate_hx_target|default:'#main-content-area' }}" hx-swap="innerHTML"{% endif %}
        >
            {% icon "play-outline" %}
            {% trans "Activate" %}
        </button>
        {% endif %}
        <button
            class="ux-button ux-button--clear ux-button--small ux-color-danger flex-1"
            {% if delete_alpine %}@click="{{ delete_alpine }}"{% endif %}
        >
            {% icon "trash-outline" %}
            {% trans "Delete" %}
        </button>
    </div>
</div>
