<!-- Form Sidebar Backdrop -->
<div class="form-sidebar-backdrop"
     x-show="$store.sidebar.isOpen"
     x-transition:enter="backdrop-enter"
     x-transition:enter-start="backdrop-enter-start"
     x-transition:enter-end="backdrop-enter-end"
     x-transition:leave="backdrop-leave"
     x-transition:leave-start="backdrop-leave-start"
     x-transition:leave-end="backdrop-leave-end"
     {% if close_on_outside_click %}@click="$store.sidebar.close()"{% endif %}
></div>

<!-- Form Sidebar Panel -->
<aside id="{{ id }}"
       class="form-sidebar"
       style="--sidebar-width: {{ width }};"
       x-show="$store.sidebar.isOpen"
       x-transition:enter="sidebar-enter"
       x-transition:enter-start="sidebar-enter-start"
       x-transition:enter-end="sidebar-enter-end"
       x-transition:leave="sidebar-leave"
       x-transition:leave-start="sidebar-leave-start"
       x-transition:leave-end="sidebar-leave-end"
       @keydown.escape.window="$store.sidebar.close()"
>
    <!-- Sidebar Header -->
    <header class="form-sidebar-header">
        <h2 x-text="$store.sidebar.title"></h2>
        <ion-button fill="clear" color="medium" @click="$store.sidebar.close()">
            <ion-icon slot="icon-only" name="close-outline"></ion-icon>
        </ion-button>
    </header>

    <!-- Sidebar Content (loaded via HTMX) -->
    <div id="sidebar-content" class="form-sidebar-body">
        {% slot "content" %}
        <!-- Form content loaded via HTMX -->
        {% endslot %}
    </div>
</aside>
