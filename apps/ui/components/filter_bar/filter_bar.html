{% load i18n component_tags djicons %}

<ion-card class="m-0 mb-md">
    <ion-card-content class="p-md">
        <div class="d-flex gap-sm flex-wrap align-center">
            {# Search Input #}
            <div class="flex-1" style="position: relative; min-width: 200px;">
                <span style="position: absolute; left: 12px; top: 50%; transform: translateY(-50%); color: var(--text-color-secondary); pointer-events: none; z-index: 10;">{% icon "search-outline" %}</span>
                <input
                    type="text"
                    name="{{ search_name }}"
                    value="{{ search_value }}"
                    placeholder="{{ search_placeholder }}"
                    class="w-full rounded-lg"
                    style="height: var(--touch-target-min); padding-left: 40px; padding-right: 12px; border: 1px solid var(--border-color); background: var(--bg-color); color: var(--text-color);"
                    {% if search_url %}
                    hx-get="{{ search_url }}"
                    hx-trigger="keyup changed delay:{{ debounce_ms }}ms"
                    hx-target="{{ search_target }}"
                    {% if search_include %}hx-include="{{ search_include }}"{% endif %}
                    hx-push-url="true"
                    {% endif %}>
            </div>

            {# Additional Filters Slot #}
            {% slot "filters" %}{% endslot %}

            {# Action Buttons Slot #}
            <div class="d-flex gap-xs flex-shrink-0">
                {% slot "actions" %}{% endslot %}
            </div>
        </div>
    </ion-card-content>
</ion-card>
