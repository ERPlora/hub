{% load i18n ui component_tags %}

{# Tabbar OOB swap for HTMX navigation #}
{% if request.htmx %}
    {% if page_module_id %}
        {# New system: use tabbar component with module_id #}
        {% component "tabbar" module_id=page_module_id current_view=tabbar_view oob=True %}{% endcomponent %}
    {% elif tabbar_template %}
        {# Legacy: include template directly #}
        {% include tabbar_template with current_view=tabbar_view oob=True %}
    {% endif %}
{% endif %}

{# CSRF token for JavaScript/HTMX #}
{% csrf_token %}

{# Page Header with back button #}
{% ui_page_header title=title %}

<div {% if alpine_app %}x-data="{{ alpine_app }}()" x-init="init()"{% endif %} class="ion-padding">
    {# Info slot - for read-only global config sections #}
    {% slot "info" %}{% endslot %}

    {# Main settings content #}
    <ion-card class="m-0">
        <ion-card-content>
            {% slot "settings" %}{% endslot %}

            {# Actions slot - for reset/save buttons #}
            {% slot "actions" %}{% endslot %}
        </ion-card-content>
    </ion-card>

    {# Footer info slot - for help text #}
    {% slot "footer" %}{% endslot %}
</div>
